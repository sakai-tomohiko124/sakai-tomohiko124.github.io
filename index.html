<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªæ¤œç´¢ãƒ„ãƒ¼ãƒ«</title>
    <script src="static/points.js"></script>
    <script src="static/points-header.js"></script>
    <link rel="stylesheet" href="static/responsive-header.css">
    <link rel="stylesheet" href="static/style2.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&family=Roboto+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-size: 24px;
            font-family: 'Noto Sans JP', sans-serif;
        }
        .splash-content {
            text-align: center;
            color: var(--neon-blue);
            text-shadow: 0 0 20px var(--neon-blue);
            animation: fadeIn 1s ease-in;
        }
        .splash-title {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 0.5em;
        }
        .splash-subtitle {
            font-size: 1.5em;
            opacity: 0.8;
        }
        .terms-content {
            text-align: center;
            color: var(--text-primary);
            background: rgba(20,30,60,0.92);
            padding: 2em;
            border-radius: 18px;
            box-shadow: 0 0 32px #00f2fe44, 0 2px 24px #ae00ff22;
            max-width: 600px;
            margin: 0 auto;
        }
        .terms-content h1 {
            color: var(--neon-blue);
            margin-bottom: 1em;
        }
        .terms-content p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 2em;
        }
        .terms-content button {
            background: linear-gradient(90deg, #00f2fe 0%, #ae00ff 100%);
            color: #fff;
            border: none;
            padding: 1em 2em;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            margin: 0 1em;
            transition: background 0.2s;
        }
        .terms-content button:hover {
            background: linear-gradient(90deg, #ae00ff 0%, #00f2fe 100%);
        }
        #message {
            color: #ff4d4d;
            margin-top: 1em;
            font-weight: bold;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="background-effect"></div>
    <div id="terms" style="display:none;">
        <div class="terms-content">
            <h1>âš ï¸ åˆ©ç”¨è¦ç´„ãƒ»é‡è¦äº‹é … âš ï¸</h1>
            <div style="text-align: left; max-height: 400px; overflow-y: auto; padding: 1em; background: rgba(0,0,0,0.3); border-radius: 8px; margin-bottom: 1.5em;">
                <h3 style="color: #00f2fe;">ã€å¿…ãšãŠèª­ã¿ãã ã•ã„ã€‘</h3>
                <ul style="line-height: 1.8;">
                    <li>æœ¬ã‚µã‚¤ãƒˆã¯å­¦ç¿’ç›®çš„å°‚ç”¨ã§ã™ã€‚</li>
                    <li><strong>èª¹è¬—ä¸­å‚·ã€ã‚¯ãƒ¬ãƒ¼ãƒ ã€ä¸é©åˆ‡ãªç™ºè¨€ã¯ç¦æ­¢ã§ã™ã€‚</strong>å¥å…¨ãªåˆ©ç”¨ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚</li>
                    <li><strong>ã‚µã‚¤ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯å‚è€ƒæƒ…å ±ã§ã‚ã‚Šã€æ­£ç¢ºæ€§ã‚’100%ä¿è¨¼ã—ã¾ã›ã‚“ã€‚</strong></li>
                    <li><strong>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã¯é©åˆ‡ã«ç®¡ç†ã—ã¦ãã ã•ã„ã€‚</strong>ã“ã®ã‚µã‚¤ãƒˆã‚’è‰²ã€…ãªæ–¹ã¸å…±æœ‰ã™ã‚‹ã“ã¨</li>
                    <li><strong>ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã€æ”»æ’ƒè¡Œç‚ºã¯å³åº§ã«é€šå ±ã•ã‚Œã¾ã™ã€‚</strong></li>
                    <li><strong>åˆ©ç”¨è¦ç´„ã«é•åã—ãŸå ´åˆã€ã‚¢ã‚¯ã‚»ã‚¹ç¦æ­¢æªç½®ã‚’å–ã‚Šã¾ã™ã€‚</strong></li>
                </ul>
            </div>
            <p style="font-size: 1.3em; font-weight: bold; color: #00f2fe;">ä¸Šè¨˜ã™ã¹ã¦ã®è¦ç´„ã«åŒæ„ã„ãŸã ã‘ã¾ã™ã‹ï¼Ÿ</p>
            <div style="margin: 1.5em 0;">
                <button id="agree" style="background: linear-gradient(90deg, #00f2fe 0%, #00c851 100%);">âœ“ ã™ã¹ã¦åŒæ„ã™ã‚‹</button>
                <button id="disagree" style="background: linear-gradient(90deg, #ff4444 0%, #cc0000 100%);">âœ— åŒæ„ã—ãªã„</button>
            </div>
            <div id="message" style="display:none; font-size: 1.1em;">âš ï¸ ã™ã¹ã¦ã®è¦ç´„ã«åŒæ„ã—ã¦ãã ã•ã„</div>
            <div id="disagree-counter" style="margin-top: 1em; color: #ffaa00; font-weight: bold;"></div>
        </div>
    </div>
    <div id="splash" class="splash-content">
        <div class="splash-title">ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æ¤œç´¢&ã‚¯ã‚¤ã‚ºãƒ„ãƒ¼ãƒ«èµ·å‹•</div>
    </div>

    <script>
        // F12ã‚­ãƒ¼ã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã€å³ã‚¯ãƒªãƒƒã‚¯ç„¡åŠ¹åŒ–
        document.addEventListener('keydown', e => {
            // F12ã‚­ãƒ¼ç„¡åŠ¹åŒ–
            if (e.key === 'F12' || 
                // Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+Shift+C (é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«)
                (e.ctrlKey && e.shiftKey && ['I', 'J', 'C'].includes(e.key.toUpperCase())) ||
                // Cmd+Option+I, Cmd+Option+J, Cmd+Option+C (Mac)
                (e.metaKey && e.altKey && ['I', 'J', 'C'].includes(e.key.toUpperCase())) ||
                // Ctrl+U (ã‚½ãƒ¼ã‚¹è¡¨ç¤º)
                (e.ctrlKey && e.key.toLowerCase() === 'u') ||
                // Cmd+U (Mac)
                (e.metaKey && e.key.toLowerCase() === 'u')) {
                e.preventDefault();
                alert('âš ï¸ é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®ä½¿ç”¨ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚åˆ©ç”¨è¦ç´„é•åã§ã™ã€‚');
                return false;
            }
        });

        // å³ã‚¯ãƒªãƒƒã‚¯ç„¡åŠ¹åŒ–
        document.addEventListener('contextmenu', e => {
            e.preventDefault();
            alert('âš ï¸ å³ã‚¯ãƒªãƒƒã‚¯ã¯ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚');
            return false;
        });

        // ã‚³ãƒ”ãƒ¼é˜²æ­¢
        document.addEventListener('copy', e => {
            e.preventDefault();
            alert('âš ï¸ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚³ãƒ”ãƒ¼ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚');
            return false;
        });

        // åˆ©ç”¨è¦ç´„ãƒã‚§ãƒƒã‚¯
        if (!localStorage.getItem('agreed')) {
            document.getElementById('terms').style.display = 'block';
            document.getElementById('splash').style.display = 'none';
        } else {
            window.location.href = 'login.html';
        }

        // åŒæ„ã™ã‚‹ãƒœã‚¿ãƒ³
        document.getElementById('agree').onclick = function() {
            localStorage.setItem('agreed', 'true');
            localStorage.removeItem('disagreeCount'); // ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒªã‚»ãƒƒãƒˆ
            window.location.href = 'login.html';
        };

        // åŒæ„ã—ãªã„ãƒœã‚¿ãƒ³ï¼ˆ5å›ã§å¼·åˆ¶çµ‚äº†ï¼‰
        document.getElementById('disagree').onclick = function() {
            let disagreeCount = parseInt(localStorage.getItem('disagreeCount') || '0');
            disagreeCount++;
            localStorage.setItem('disagreeCount', disagreeCount);
            
            const remaining = 5 - disagreeCount;
            const counterDiv = document.getElementById('disagree-counter');
            
            if (disagreeCount >= 5) {
                // 5å›ç›®ï¼šç®¡ç†è€…é€šçŸ¥ï¼†å¼·åˆ¶çµ‚äº†
                alert('ğŸš¨ ç®¡ç†è€…ã¸é€šå ±ã•ã‚Œã¾ã—ãŸ ğŸš¨\n\nã‚ãªãŸã®ã‚¢ã‚¯ã‚»ã‚¹ã¯è¨˜éŒ²ã•ã‚Œã€ç®¡ç†è€…ã«é€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚\nã“ã®ã‚µã‚¤ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯æ°¸ä¹…ã«ç¦æ­¢ã•ã‚Œã¾ã™ã€‚');
                localStorage.setItem('banned', 'true');
                // å¼·åˆ¶çš„ã«ãƒšãƒ¼ã‚¸ã‚’é–‰ã˜ã‚‹è©¦ã¿ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚ˆã£ã¦ã¯å‹•ä½œã—ãªã„å ´åˆãŒã‚ã‚‹ï¼‰
                window.location.href = 'about:blank';
                window.close();
                // é–‰ã˜ã‚‰ã‚Œãªã„å ´åˆã¯ç©ºç™½ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
                document.body.innerHTML = '<div style="text-align:center; padding:50px; font-size:24px; color:#ff0000;"><h1>ğŸš« ã‚¢ã‚¯ã‚»ã‚¹ç¦æ­¢ ğŸš«</h1><p>åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ãªã‹ã£ãŸãŸã‚ã€ã“ã®ã‚µã‚¤ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ç¦æ­¢ã•ã‚Œã¾ã—ãŸã€‚</p><p>ç®¡ç†è€…ã«é€šå ±æ¸ˆã¿ã§ã™ã€‚</p></div>';
            } else {
                // 1ã€œ4å›ç›®ï¼šè­¦å‘Šè¡¨ç¤º
                counterDiv.style.display = 'block';
                counterDiv.innerHTML = `âš ï¸ è­¦å‘Š: æ®‹ã‚Š ${remaining} å›ã§ç®¡ç†è€…ã«é€šå ±ã•ã‚Œã¾ã™ï¼`;
                document.getElementById('message').style.display = 'block';
                
                if (disagreeCount >= 3) {
                    alert(`ğŸš¨ æœ€çµ‚è­¦å‘Š ğŸš¨\n\nã‚ã¨ ${remaining} å›ã€ŒåŒæ„ã—ãªã„ã€ã‚’æŠ¼ã™ã¨ã€ç®¡ç†è€…ã«é€šå ±ã•ã‚Œã‚¢ã‚¯ã‚»ã‚¹ãŒæ°¸ä¹…ã«ç¦æ­¢ã•ã‚Œã¾ã™ã€‚\n\nä»Šã™ãã€ŒåŒæ„ã™ã‚‹ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚`);
                }
            }
        };

        // ã‚¢ã‚¯ã‚»ã‚¹ç¦æ­¢ãƒã‚§ãƒƒã‚¯
        if (localStorage.getItem('banned') === 'true') {
            document.body.innerHTML = '<div style="text-align:center; padding:50px; font-size:24px; color:#ff0000;"><h1>ğŸš« ã‚¢ã‚¯ã‚»ã‚¹ç¦æ­¢ ğŸš«</h1><p>ã‚ãªãŸã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚</p><p>ç®¡ç†è€…ã«é€£çµ¡ã—ã¦ãã ã•ã„ã€‚</p></div>';
        }

        // Service Workerç™»éŒ²
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(registration => {
                    console.log('Service Worker registered with scope:', registration.scope);
                })
                .catch(error => {
                    console.log('Service Worker registration failed:', error);
                });
        }
    </script>
</body>
</html>